<app-user-filter (filterChange)="onFilterChange($event)"></app-user-filter>

<div *ngIf="loading" class="loading">Loading users...</div>
<div *ngIf="error" class="error">{{ error }}</div>

<div class="users-table-container" *ngIf="!loading && !error">
  <table class="users-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Age</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let user of users"
        (click)="goToDetail(user.id)"
        class="user-row"
      >
        <td>{{ user.firstname }} {{ user.lastname }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.age }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="users.length === 0" class="no-users">
    No users found matching your criteria.
  </div>
</div>

<div class="pagination-controls" *ngIf="totalPages > 1">
  <button (click)="prevPage()" [disabled]="currentPage === 0">Previous</button>

  <div class="page-numbers">
    <button
      *ngFor="let page of pages"
      (click)="goToPage(page)"
      [class.active]="page === currentPage"
      class="page-btn"
    >
      {{ page + 1 }}
    </button>
  </div>

  <button (click)="nextPage()" [disabled]="currentPage === totalPages - 1">
    Next
  </button>
</div>
